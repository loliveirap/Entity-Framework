CREATE TABLE [dbo].[Categorias] (
    [Id] [int] NOT NULL IDENTITY,
    [Descricao] [nvarchar](max),
    CONSTRAINT [PK_dbo.Categorias] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ListaDeProdutoes] (
    [Id] [int] NOT NULL IDENTITY,
    [Descricao] [nvarchar](max),
    CONSTRAINT [PK_dbo.ListaDeProdutoes] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Produtoes] (
    [id] [int] NOT NULL IDENTITY,
    [Nome] [nvarchar](max),
    [Categoria_Id] [int],
    CONSTRAINT [PK_dbo.Produtoes] PRIMARY KEY ([id])
)
CREATE INDEX [IX_Categoria_Id] ON [dbo].[Produtoes]([Categoria_Id])
CREATE TABLE [dbo].[ProdutoListaDeProdutoes] (
    [Produto_id] [int] NOT NULL,
    [ListaDeProduto_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProdutoListaDeProdutoes] PRIMARY KEY ([Produto_id], [ListaDeProduto_Id])
)
CREATE INDEX [IX_Produto_id] ON [dbo].[ProdutoListaDeProdutoes]([Produto_id])
CREATE INDEX [IX_ListaDeProduto_Id] ON [dbo].[ProdutoListaDeProdutoes]([ListaDeProduto_Id])
ALTER TABLE [dbo].[Produtoes] ADD CONSTRAINT [FK_dbo.Produtoes_dbo.Categorias_Categoria_Id] FOREIGN KEY ([Categoria_Id]) REFERENCES [dbo].[Categorias] ([Id])
ALTER TABLE [dbo].[ProdutoListaDeProdutoes] ADD CONSTRAINT [FK_dbo.ProdutoListaDeProdutoes_dbo.Produtoes_Produto_id] FOREIGN KEY ([Produto_id]) REFERENCES [dbo].[Produtoes] ([id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ProdutoListaDeProdutoes] ADD CONSTRAINT [FK_dbo.ProdutoListaDeProdutoes_dbo.ListaDeProdutoes_ListaDeProduto_Id] FOREIGN KEY ([ListaDeProduto_Id]) REFERENCES [dbo].[ListaDeProdutoes] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201706292202468_BdInicial', N'Repositorio.Migrations.Configuration',  0x1F8B0800000000000400ED1AC96EDB46F45EA0FF40F0D4168E283B97D6901238B25D088D17584ED05B30269FE441C9199633342404FDB21EFA49FD853E8ADB7086BB971448E08B45BE79FB3EFCF7EF7F666FB7816F3D4024286773FB7032B52D602EF728DBCCED58AE5FFD6CBF7DF3FD77B3332FD85A1F73B8D7091C9E64626EDF4B191E3B8E70EF212062125037E282AFE5C4E581433CEE1C4DA7BF3887870E200A1B7159D6EC26669206B0FF813F179CB910CA98F817DC035F64CFF1CD6A8FD5BA24018890B830B76F20E4824A1E516E5B273E25C8C20AFCB56D11C6B82412193CFE20602523CE36AB101F10FF761702C2AD892F2063FCB804EF2BC3F42891C1290FE6A8DC58481E0C4478F83A538AA31F1FA55ABB501AAAED0CD52B7789D47BD5CDED0591B0419D11DBD2A91D2FFC28819CDBA73CA08CF249017C60658F0E0AD3A387247F07D622F6651CC19C412C23E21F58D7F19D4FDDDF6077CBFF003667B1EFAB3C2157F8AEF2001F5D473C8448EE6E609D71BAF46CCBA99E73F483C531E54C2AC292C9D747B67589C4C99D0F85C9157157E83BF02B3088504CEF9A4809114B70C05E6906758DD6290837A22EE1394974340C16DBBA20DBF7C036F27E6EE3BFB6754EB7E0E54F32363E308AB1858764144395D2CC298DD66ACAF75448720AC896174BDEC79ED513DF8CFA7246454A97E4816EF64C6A34337308DBBA017F0F20EE699826B349F6F253D574087B1EF1E086FBE5791DE4D32D8936205110DE0EB7E271E48E75C201DEF705DD8E8E703BFA826E77C90378418F538A408BCB2950A6B3152F0BF7D1DDAC84C81DB12F7B86AF3F6D5C3431DC143F7DE2E24408EED23D93D5C050B45895FE8C7956A74A538750E445B7C010A12106057231B77F32B4DA86B7C808255EC5C855CCD3C9E450975D91B29FF0BA75BA586D34D59328A2314196D8F59ADA4AA45121A98F60332B09C59490D79677CDC912FBD42C5F8A2C987561128C2B907A04A3C7971E69DAD4D049158D113D062E5D211D085B3035A1507468E051739002D798A8F44AD027C80A1154EE9D2198723F5230A9F6D10B4F55E001CA30ACD5AC92D6C01B147A63D5D3146C0A3E439EDE9ACAD3701162E5A0E8A493623E513A0D23E5EC828421D65965C4CC9E58AB74BE5CBC5A0D9FBF821487E38A9A31ACE0B6A0845D03D980F6164923A7E73412F294487247924ABFF00203AC4C280D4199D331728669BE3C58F323C9FFE93165CE9E34465AA9BE739428C0AE672F1CD4858479763FDF139F44359DFF82FB71C09AA687B6D34A2FAF22511E9BB8668E2686AE29C75095E6B3BAF27B99A63B5CFBD947CBD6C38DD485E0ABB7D4A34D34DE36838D4235A3985350DBE9742651CFA74F5EDE14D532506B0FB55168D5BB0AD853C14971AB1FD9CD1EC0D44DAF7029F1D4054EA29F828331CC65B5BC27737DDCA695252C511EDD4F034B910CCDC5B8DA5764BDF28FF60AA3C368F70D03BCC143DAB3648B491A9AAC9186C9B10E36507F061FE7D6556C037DBBDB098C2E5007291253D10D6A5DDF2CEBC0BA6F1B8C962C05B12DE4FD817A493BB6DA0909C1240198ACFEF4173EC55458025C1046D72064BAC9B28FA68747DABDC5FFE70EC111C2F3FB5E24BCF81A98266AEDDCB819EBBA819B5FF64022F79E443F0464FBA38AEEE956F6DF343778CFFCE2CBDF675199BAEF1DA02D1351B58A2A1C1B1BA625F3603BB73FEF0F1E5BCBDF3FA9670FACAB0873D4B135B5FE7A5A8B3DDEE55BCB9C09DE5974BAADAF521CA6D3F26493467BF9478D0CC3F830100C60E73976DC5A7B3E7CF95CB7631AB717464F8128895BE263E3206484AD8331B15C4794B93424BEC1BFD90AF549D289560B9CFA9B53088125A94413AF0FA9AEC9A1C0AD854097161EBFECAF6D6EC719F1D068B1AFD829F820C13A71D31E6941844B3C33B092F6B283037DC56DF233E85660AC8B0DB17A7DC73FD4C13AB7450373F19774B6BA414531758B8DDB8DFB55B8DE0847789A14378270AF99F2C91DB1FE46CFDCD337EC10CD7BF7B64BBB74B49CDBDE5DE212699D6EB9506ABFD4EB71A75747AF0A03DD549BC9B5D2194CA053BA06B816E29DB2BECC15A5E11DDAB5498F5BB7BAEBBAE7BB802CEE087BDF43362CBCC609D227A176EEEE9E4F39F985677FE5D42FDB5AAA58F3C5CD9755D580EB59730187595AF928182B87A09B1245B25C66E056F27301B3646B9E570C8DA31C441BB42E40120F93F74924E99AB8125FBB20C4FE03AC8FC48F11E42CB8036FC9AE6219C6124586E0CEAF7CD095949B36FAFB3BE82ACFB3AB70FF3DD35388806C521401AED8BB98FA5EC1F779CD64D78022A963D97623B1A54CB61C9B5D81E992B39E8832F515E5F71682D04764E28AADC8038CE1ED8380F7B021EE2EDFA33623E9364455EDB3534A3611094486A33C8F3FD187BD60FBE63F4C846D281B2F0000 , N'6.1.3-40302')

